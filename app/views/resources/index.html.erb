<h1 class="model-header">Resouces</h1>

  <table class="table table-responsive">
    <thead class="table-info">
      <tr>
        <th>Resource </th>
        <th>Images </th>
        <th>Documents </th>
        <th>Videos </th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <% @resources.each do |res| %>
        <tr>
          <td><%= res.name  %></td>
          <td><%= res.images.count  %></td>
          <td><%= res.documents.count %></td>
          <td><%= res.links.count  %></td>
          <td>
            <%= link_to '', edit_resource_path(res), class: 'fa fa-plus fa-lg btn' %>

            <%= link_to '', @resource, method: :delete, data: { confirm: 'Are you sure?' }, class: 'fa fa-remove fa-lg btn' %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
 


<br>

<div class="row">
  <div class="col-md-3">
  
  </div>
  <div class="col-md-3">
<%= link_to 'Add Resources', new_challenge_resource_path , class: "fa fa-plus-circle btn btn-outline-primary my-2 my-sm-0 btn-lg btn btn-info" %>
</div>
<div class="col-md-3">
   <button class="btn btn-outline-primary my-2 my-sm-0 btn-sm btn btn-info" data-toggle="modal" data-target=".bd-example-modal-lg">View All Resources</button>
  </div>
  <div class="col-md-3">
  
  </div>
</div>
<br><br>


<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      
     <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Available Resources</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

<div id="accordion" role="tablist" aria-multiselectable="true">
  <disv class="card">
    <div class="card-header" role="tab" id="headingOne">
      <h5 class="mb-0">
        <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          Images
        </a>
      </h5>
    </div>

    <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
      <div class="card-block">  
     <% @resources.each do |res| %>
      <% res.images.each do |resource| %>
       <%  if (resource.image_content_type != nil) %>
      <div class= " resource_img img-thumbnail">
         <%= image_tag resource.image.url %>
    </div>
    <%  else %>
    <p> No Images Available </p>
    <%  end %>

    <%  end %>
   <% end %>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-header" role="tab" id="headingTwo">
      <h5 class="mb-0">
        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
          Document or PDFs
        </a>
      </h5>
    </div>
    <div id="collapseTwo" class="collapse" role="tabpanel" aria-labelledby="headingTwo">
      <div class="card-block">
        <table class="table  table-hover">
         <thead class= "table-primary border ">
        </thead>
        <tbody>
           <% @resources.each do |res| %>
            <% res.documents.each do |resource| %>
             <%  if resource.document_content_type != nil %>
           <tr>
            <td><%= link_to resource.document_file_name, resource.document.url, target: "_blank", class: ' fa fa-file btn btn-link offset-md-5 btn-outline-primary' %></td>

            <td>
                
            </td>           
          </tr>
          
          <%  else %>
           <p> No Files Available </p>
          <% end %>
          <% end %>
         <% end %>
        </tbody>
      </table>
      </div>
    </div>
  </div>
  <div class="card">
    <div class="card-header" role="tab" id="headingThree">
      <h5 class="mb-0">
        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
          Youtube Videos
        </a>
      </h5>
    </div>
    <div id="collapseThree" class="collapse" role="tabpanel" aria-labelledby="headingThree">
      <div class="card-block">
      <% @resources.each do |res| %>
      <% res.links.each do |resource| %>
        <% if resource.link != "" %>
          <div class="resource_links">
              <%= embed(resource.link) %>
            </div>
            <%  else %>
              <p> No Link Available </p>
            <% end %>
          <% end %>
      <% end %>
      </div>
    </div>
  </div>
</div>  

    </div>
  </div>
</div>
</div>